# 设置说明

## 已完成的功能

### 1. 登录功能改进
- ✅ 添加三种登录类型选择：学生登录、心理咨询师登录、管理员登录
- ✅ 登录时验证登录类型和用户角色是否匹配
- ✅ 修复登录失败问题（13343538563，密码123456yzzx）

### 2. 心理咨询师账户创建
- ✅ 创建脚本 `create_counselor_accounts.py` 为现有心理咨询师创建账户
- ✅ 密码规则：123456 + 姓名首字母小写缩写（如：张心怡 -> 123456zxy）

### 3. 预约咨询功能
- ✅ 修复预约咨询页面跳转问题
- ✅ 实现预约表单提交功能
- ✅ 支持选择咨询方式、日期、时段和描述

### 4. 心理咨询师功能
- ✅ 接受/拒绝学生的预约申请
- ✅ 发布帖子功能
- ✅ 填写咨询小结
- ✅ 确认完成咨询
- ✅ 咨询记录看板显示已完成的咨询记录
- ✅ 统计数据显示（总咨询次数、好评率等）

## 运行脚本

### 1. 为心理咨询师创建账户

```bash
cd src/backend
python create_counselor_accounts.py
```

这个脚本会：
- 为所有活跃的咨询师创建用户账户
- 密码格式：123456 + 姓名首字母小写（如：张心怡 -> 123456zxy）
- 如果咨询师已有账户，会跳过

### 2. 创建测试用户（13343538563）

```bash
cd src/backend
python create_test_user.py
```

这个脚本会：
- 创建手机号为 13343538563 的测试用户
- 密码：123456yzzx
- 如果用户已存在，会更新密码

## 使用说明

### 学生登录
1. 选择"学生登录"
2. 输入手机号/学号/邮箱和密码
3. 登录后可以：
   - 预约心理咨询
   - 心理测评
   - 查看健康科普
   - 参与互助社区

### 心理咨询师登录
1. 选择"心理咨询师登录"
2. 输入用户名（姓名）和密码（123456 + 姓名首字母）
3. 登录后可以：
   - 查看待确认的预约申请
   - 接受或拒绝预约
   - 确认完成咨询并填写小结
   - 发布帖子
   - 查看咨询记录和统计

### 管理员登录
1. 选择"管理员登录"
2. 输入管理员账号和密码
3. 登录后可以管理平台所有功能

## 注意事项

1. 首次使用前，请先运行 `create_counselor_accounts.py` 为咨询师创建账户
2. 咨询师密码规则：123456 + 姓名首字母小写（例如：张心怡 -> 123456zxy）
3. 测试用户账号：13343538563，密码：123456yzzx

